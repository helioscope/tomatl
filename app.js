!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},i={},o={}.hasOwnProperty,r=/^\.\.?(\/|$)/,s=function(e,t){for(var n,i=[],o=(r.test(t)?e+"/"+t:t).split("/"),s=0,a=o.length;s<a;s++)n=o[s],".."===n?i.pop():"."!==n&&""!==n&&i.push(n);return i.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(n){var i=s(a(t),n);return e.require(i,t)}},l=function(e,t){var i=b&&b.createHot(e),o={id:e,exports:{},hot:i};return n[e]=o,t(o.exports,u(e),o),o.exports},c=function(e){return i[e]?c(i[e]):e},d=function(e,t){return c(s(a(e),t))},f=function(e,i){null==i&&(i="/");var r=c(e);if(o.call(n,r))return n[r].exports;if(o.call(t,r))return l(r,t[r]);throw new Error("Cannot find module '"+e+"' from '"+i+"'")};f.alias=function(e,t){i[t]=e};var m=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,h=function(e){if(m.test(e)){var t=e.replace(m,"");o.call(i,t)&&i[t].replace(m,"")!==t+"/index"||(i[t]=e)}if(p.test(e)){var n=e.replace(p,"");o.call(i,n)||(i[n]=e)}};f.register=f.define=function(e,i){if(e&&"object"==typeof e)for(var r in e)o.call(e,r)&&f.register(r,e[r]);else t[e]=i,delete n[e],h(e)},f.list=function(){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};var b=e._hmr&&new e._hmr(d,f,t,n);f._cache=n,f.hmr=b&&b.wrap,f.brunch=!0,e.require=f}}(),function(){var e;"undefined"==typeof window?this:window;require.register("components/App.jsx",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){if(w>=N.length)w=0,p["default"].Transport.stop();else{var t=N[w];T.triggerAttackRelease(t[0],t[1],e),w++}}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=t("react"),c=i(l),d=t("lodash"),f=(i(d),t("moment")),m=(i(f),t("tone")),p=i(m),h=t("../util/notifier"),b=i(h),y=t("./TimerBox"),v=i(y),_=t("./NotesBox"),g=i(_),T=(new p["default"].Synth).toMaster(),k={enableTimerHotkeys:!0},w=0,N=[["C2","16n"],["G3","16n"],["B3","16n"],["C3","16n"],["G3","16n"]];p["default"].Transport.schedule(a,0),p["default"].Transport.schedule(a,"0:0.5"),p["default"].Transport.schedule(a,"0:1"),p["default"].Transport.schedule(a,"0:1.5"),p["default"].Transport.schedule(a,"0:2"),p["default"].Transport.schedule(a,"0:3");var P=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},k),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){b["default"].hasPermission()||b["default"].askPermission()}},{key:"onTimerDing",value:function(e,t){this.cueDing(),b["default"].send({title:"Ding!",message:"Time's up!",duration:1e4,id:Math.random()})}},{key:"cueDing",value:function(){p["default"].Transport.start()}},{key:"onInputFocus",value:function(){this.setState({enableTimerHotkeys:!1})}},{key:"onInputBlur",value:function(){this.setState({enableTimerHotkeys:!0})}},{key:"render",value:function(){return c["default"].createElement("div",{className:"App"},c["default"].createElement(v["default"],{id:"main-timer",onDing:this.onTimerDing.bind(this),useHotKeys:this.state.enableTimerHotkeys}),c["default"].createElement(g["default"],{onInputFocus:this.onInputFocus.bind(this),onInputBlur:this.onInputBlur.bind(this)}))}}]),t}(c["default"].Component);e["default"]=P}),require.register("components/NotesBox.jsx",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=t("react"),l=i(u),c={onInputFocus:function(){},onInputBlur:function(){}},d={nowNotes:"",todayNotes:""},f=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},d,{nowNotes:localStorage.getItem("nowNotes")||"",todayNotes:localStorage.getItem("todayNotes")||""}),n}return s(t,e),a(t,[{key:"handleChangeNowNotes",value:function(e){var t=e.target.value;localStorage.setItem("nowNotes",t),this.setState({nowNotes:t})}},{key:"handleChangeTodayNotes",value:function(e){var t=e.target.value;localStorage.setItem("todayNotes",t),this.setState({todayNotes:t})}},{key:"handleInputFocus",value:function(e){this.props.onInputFocus()}},{key:"handleInputBlur",value:function(e){this.props.onInputBlur()}},{key:"render",value:function(){this.state;return l["default"].createElement("div",{className:"NotesBox "},l["default"].createElement("div",{className:"NotesBox__input-wrapper NotesBox__now-notes"},l["default"].createElement("div",{className:"NotesBox__input-label"},"NOW:"),l["default"].createElement("textarea",{className:"NotesBox__input",value:this.state.nowNotes,onChange:this.handleChangeNowNotes.bind(this),onFocus:this.handleInputFocus.bind(this),onBlur:this.handleInputBlur.bind(this)})),l["default"].createElement("div",{className:"NotesBox__input-wrapper NotesBox__today-notes"},l["default"].createElement("div",{className:"NotesBox__input-label"},"TODAY:"),l["default"].createElement("textarea",{className:"NotesBox__input",value:this.state.todayNotes,onChange:this.handleChangeTodayNotes.bind(this),onFocus:this.handleInputFocus.bind(this),onBlur:this.handleInputBlur.bind(this)})))}}]),t}(l["default"].Component);f.defaultProps=c,e["default"]=f}),require.register("components/TimerBox.jsx",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=t("react"),l=i(u),c=t("lodash"),d=i(c),f=t("moment"),m=i(f),p=t("tone"),h=i(p),b={id:null,tickInterval:50,onDing:function(e,t){},useHotKeys:!0},y=[{label:"pomodoro - work",duration:15e5},{label:"pomodoro - short break",duration:3e5},{label:"pomodoro - long break",duration:6e5},{label:"one minute",duration:6e4}],v={selectedPresetTime:y[0],bankedTime:0,startTime:0,endTime:y[0].duration,isRunning:!1,didDing:!1,timeout:null,lastTick:0},_=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},v),n}return s(t,e),a(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.timeout),window.removeEventListener("keydown",this.onKeyDown.bind(this))}},{key:"selectPreset",value:function(e){var t={selectedPresetTime:e,endTime:e.duration};h["default"].context.resume(),this.state.didDing&&(t.bankedTime=0,t.didDing=!1),this.state.isRunning||(t.timeout=setTimeout(this.onTick.bind(this),this.props.tickInterval),t.isRunning=!0,t.startTime=new Date),this.setState(t)}},{key:"onKeyDown",value:function(e){if(this.props.useHotKeys)if(32==e.keyCode)this.state.isRunning?this.onPressPause():this.state.didDing?this.onPressBegin():this.state.bankedTime>0?this.onPressResume():this.onPressBegin();else if(e.keyCode>=49&&e.keyCode<=57){var t=e.keyCode-49;t<y.length&&this.selectPreset(y[t])}}},{key:"onSelectPresetTime",value:function(e){var t=e.target.value,n=d["default"].find(y,{label:t});this.selectPreset(n)}},{key:"onPressBegin",value:function(){h["default"].context.resume(),this.setState({startTime:new Date,bankedTime:0,timeout:setTimeout(this.onTick.bind(this),this.props.tickInterval),isRunning:!0,didDing:!1})}},{key:"onPressPause",value:function(){clearTimeout(this.state.timeout),this.setState({bankedTime:this.state.bankedTime+(new Date-this.state.startTime),startTime:0,isRunning:!1,timeout:null})}},{key:"onPressResume",value:function(){h["default"].context.resume(),this.setState({startTime:new Date,isRunning:!0,timeout:setTimeout(this.onTick.bind(this),this.props.tickInterval)})}},{key:"onPressReset",value:function(){this.setState({startTime:new Date,bankedTime:0,didDing:!1})}},{key:"onTick",value:function(){var e=this.state,t=null,n=this.calculateMsRemaining();clearTimeout(e.timeout),n<=0?this.setState({bankedTime:e.endTime-n,isRunning:!1,didDing:!0,lastTick:new Date,timeout:null},function(){this.props.onDing(this.props.id)}.bind(this)):(e.isRunning&&(t=setTimeout(this.onTick.bind(this),this.props.tickInterval)),this.setState({lastTick:new Date,timeout:t}))}},{key:"calculateMsRemaining",value:function(){var e=this.state,t=e.endTime-e.bankedTime;return e.isRunning&&(t-=new Date-e.startTime),t}},{key:"renderPresetSelector",value:function(){var e=this.state,t=[],n="";return e.selectedPresetTime&&(n=e.selectedPresetTime.label),d["default"].each(y,function(e){t.push(l["default"].createElement("option",{value:e.label,key:e.label},e.label))}),l["default"].createElement("select",{className:"TimerBox__preset-selector",name:"preset-times",value:n,onChange:this.onSelectPresetTime.bind(this)},t)}},{key:"render",value:function(){var e=this.state,t=this.calculateMsRemaining(),n=m["default"].duration(Math.ceil(t/1e3),"s"),i=n.minutes(),o=n.seconds(),r=null,s=l["default"].createElement("button",{className:"TimerBox__button_reset",onClick:this.onPressReset.bind(this)},"Reset"),a="";return e.isRunning?(a="TimerBox_running",r=l["default"].createElement("button",{className:"TimerBox__button_pause",onClick:this.onPressPause.bind(this)},"Pause")):e.didDing?(a="TimerBox_done",r=l["default"].createElement("button",{className:"TimerBox__button_restart",onClick:this.onPressBegin.bind(this)},"Restart")):e.bankedTime>0?(a="TimerBox_paused",r=l["default"].createElement("button",{className:"TimerBox__button_resume",onClick:this.onPressResume.bind(this)},"Resume")):r=l["default"].createElement("button",{className:"TimerBox__button_start",onClick:this.onPressBegin.bind(this)},"Start"),l["default"].createElement("div",{className:"TimerBox "+a},l["default"].createElement("div",{className:"TimerBox__time-remaining"},d["default"].padStart(i,2,"0")," ",l["default"].createElement("span",{className:"TimerBox__col"},":")," ",d["default"].padStart(o,2,"0")),this.renderPresetSelector(),l["default"].createElement("div",{className:"TimerBox__buttons"},r,s))}}]),t}(l["default"].Component);_.defaultProps=b,e["default"]=_}),require.register("initialize.js",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=t("react-dom"),r=i(o),s=t("react"),a=i(s),u=t("components/App"),l=i(u);document.addEventListener("DOMContentLoaded",function(){r["default"].render(a["default"].createElement(l["default"],null),document.querySelector("#app"))})}),require.register("util/notifier.js",function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Notification(e.title||"",{body:e.message||"",icon:e.icon||r.defaultIcon}),n=e.duration||r.maxDisplayTime;setTimeout(function(){t.close()}.bind(t),n)}Object.defineProperty(e,"__esModule",{value:!0});var o={maxDisplayTime:5e3,defaultIcon:null},r=Object.assign({},o);e["default"]={setOptions:function(e){r=Object.assign({},o,r,e)},askPermission:function(){return Notification.requestPermission()},hasAskedPermission:function(){return"granted"===Notification.permission||"denied"===Notification.permission},hasPermission:function(){return"granted"===Notification.permission},send:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(e)}}}),require.alias("buffer/index.js","buffer"),require.alias("process/browser.js","process"),e=require("process"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");